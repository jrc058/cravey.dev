<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Home Assistant Smart Home# Home Assistant is a great tool for smart automations, run locally. I learned more about my data and my home from using Home Assistant more than most things. It can be really plug and play or super customizable depending on how you are, which might be a turn off for most, wife approval is a leading cause of failed Home Assistant projects.
The project started with help from Kiro, and somewhere along the line became a fun project to use local LLMs for, as well as learning some JSON myself, though I am partial to GUI.
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://cravey.dev/docs/projects/homeassistant/"><meta property="og:site_name" content="Cravey.dev"><meta property="og:title" content="Cravey.dev"><meta property="og:description" content="Home Assistant Smart Home# Home Assistant is a great tool for smart automations, run locally. I learned more about my data and my home from using Home Assistant more than most things. It can be really plug and play or super customizable depending on how you are, which might be a turn off for most, wife approval is a leading cause of failed Home Assistant projects.
The project started with help from Kiro, and somewhere along the line became a fun project to use local LLMs for, as well as learning some JSON myself, though I am partial to GUI."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:tag" content="Smart Home"><meta property="article:tag" content="Home Assistant"><meta property="article:tag" content="Self-Hosting"><meta property="article:tag" content="Open-Source"><meta property="article:tag" content="Ai"><meta property="article:tag" content="Projects"><meta itemprop=name content="Cravey.dev"><meta itemprop=description content="Home Assistant Smart Home# Home Assistant is a great tool for smart automations, run locally. I learned more about my data and my home from using Home Assistant more than most things. It can be really plug and play or super customizable depending on how you are, which might be a turn off for most, wife approval is a leading cause of failed Home Assistant projects.
The project started with help from Kiro, and somewhere along the line became a fun project to use local LLMs for, as well as learning some JSON myself, though I am partial to GUI."><meta itemprop=wordCount content="1571"><meta itemprop=keywords content="Smart Home,Home Assistant,Self-Hosting,Open-Source,Ai,Projects"><title>Homeassistant | Cravey.dev</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://cravey.dev/docs/projects/homeassistant/><link rel=stylesheet href=/book.min.6970156cec683193d93c9c4edaf0d56574e4361df2e0c1be4f697ae81c3ba55f.css integrity="sha256-aXAVbOxoMZPZPJxO2vDVZXTkNh3y4MG+T2l66Bw7pV8=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.e906fe123ddd357e988492e54ccaf4aa536c6d398ba61e9bf2d64e528661db8a.js integrity="sha256-6Qb+Ej3dNX6YhJLlTMr0qlNsbTmLph6b8tZOUoZh24o=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-docs"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><a class="flex align-center" href=/ style=flex-direction:column><img src=/images/profile.png alt=Logo><h1 class=book-brand-title>Cravey.dev</h1><p class=book-brand-subtitle>Customer Success | Amazon | Self-Host Enthusiast | Digital Sovereignty Advocate</p></a><style>.book-brand-subtitle{font-size:.8rem;color:var(--color-text-secondary);margin-top:.25rem;text-align:center}.book-brand-title{margin-bottom:0!important}</style><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/docs/workflows/>Workflows</a><ul><li><a href=/docs/workflows/image-embeds/>Embed images into cravey.dev</a></li><li><a href=/docs/workflows/living-server-documentation/>Creating Living Server Documentation: An Automated Workflow</a></li></ul></li><li><a href=/docs/about/>About</a><ul></ul></li><li><a href=/docs/projects/>Projects</a><ul><li><a href=/docs/projects/cyberdecktech/>CyberDeck Tech</a></li><li><a href=/docs/projects/homeassistant/ class=active>Homeassistant</a></li><li><a href=/docs/projects/immich/>Immich</a></li><li><a href=/docs/projects/miniflux/>Miniflux</a></li><li><a href=/docs/projects/ollama/>Ollama</a></li></ul></li><li><a href=/docs/posts/>Posts</a><ul><li><a href=/docs/posts/fallacies/>Fallacies</a></li></ul></li><li><a href=/docs/recipes/>Recipes</a><ul><li><a href=/docs/recipes/amishoatmeal/>Amish Oatmeal</a></li><li><a href=/docs/recipes/applecrisp/>Apple Crisp</a></li><li><a href=/docs/recipes/bananabread/>Banana Bread</a></li><li><a href=/docs/recipes/beans/>Beans</a></li><li><a href=/docs/recipes/biscotti/>Biscotti</a></li><li><a href=/docs/recipes/biscuits/>Biscuits</a></li><li><a href=/docs/recipes/braisedbeefneckbonestew/>Braised Beef Neck Bone Stew</a></li><li><a href=/docs/recipes/chickencacciatore/>Chicken Cacciatore</a></li><li><a href=/docs/recipes/chocolatepudding/>Chocolate Pudding</a></li><li><a href=/docs/recipes/cinnamonrolls/>Cinnamon Rolls</a></li><li><a href=/docs/recipes/coconutricethaibasilbeef/>Coconut Rice Thai Basil Beef</a></li><li><a href=/docs/recipes/dinnerrolls/>Dinner Rolls</a></li><li><a href=/docs/recipes/eggpasta/>Egg Pasta</a></li><li><a href=/docs/recipes/keylimepie/>Key Lime Pie</a></li><li><a href=/docs/recipes/leftoverfruitjam/>Leftover Fruit Jam</a></li><li><a href=/docs/recipes/lemonbutterpasta/>Lemon Butter Pasta</a></li><li><a href=/docs/recipes/lemoncapellini/>Lemon Capellini</a></li><li><a href=/docs/recipes/lemongarlicroastedchicken/>Lemon Garlic Roasted Chicken</a></li><li><a href=/docs/recipes/madeuptomatosauce/>Made Up Tomato Sauce</a></li><li><a href=/docs/recipes/meatloaf/>Meatloaf</a></li><li><a href=/docs/recipes/mexicanrice/>Mexican Rice</a></li><li><a href=/docs/recipes/mozzarellacheese/>Mozzarella Cheese</a></li><li><a href=/docs/recipes/panangcurry/>Panang Curry</a></li><li><a href=/docs/recipes/pancakes/>Pancakes</a></li><li><a href=/docs/recipes/pattymelt/>Patty Melt</a></li><li><a href=/docs/recipes/pecanbiscotti/>Pecan Biscotti</a></li><li><a href=/docs/recipes/picanha/>Picanha</a></li><li><a href=/docs/recipes/reversesearsteak/>Reverse Sear Steak</a></li><li><a href=/docs/recipes/sandwichbread/>Sandwich Bread</a></li><li><a href=/docs/recipes/sardinepasta/>Sardine Pasta</a></li><li><a href=/docs/recipes/scones/>Scones</a></li><li><a href=/docs/recipes/snowballcookies/>Snowball Cookies</a></li><li><a href=/docs/recipes/stovetopsweetenedcondensedmilk/>Stovetop Sweetened Condensed Milk</a></li><li><a href=/docs/recipes/vanillacustard/>Vanilla Custard</a></li><li><a href=/docs/recipes/waffles/>Waffles</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>Homeassistant</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#how-we-built-it>How We Built It</a><ul><li><a href=#some-core-entities-and-integrations>Some Core Entities and Integrations</a></li><li><a href=#oddity-entities>Oddity Entities</a></li><li><a href=#others>Others</a></li></ul></li><li><a href=#what-i-learned>What I Learned</a></li><li><a href=#current-state>Current State</a></li><li><a href=#whats-next>What&rsquo;s Next</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=home-assistant-smart-home>Home Assistant Smart Home<a class=anchor href=#home-assistant-smart-home>#</a></h1><p><a href=https://www.home-assistant.io/>Home Assistant</a> is a great tool for smart automations, run locally. I learned more about my data and my home from using Home Assistant more than most things. It can be really plug and play or super customizable depending on how you are, which might be a turn off for most, wife approval is a leading cause of failed Home Assistant projects.</p><p>The project started with help from Kiro, and somewhere along the line became a fun project to use local LLMs for, as well as learning some JSON myself, though I am partial to GUI.</p><h2 id=how-we-built-it>How We Built It<a class=anchor href=#how-we-built-it>#</a></h2><p>Kiro and I started with a docker container on the server. Leaving it at just that would be simple enough, downloading the integrations and just using it like that. I wanted a <a href=https://zigbee2mqtt.io/>Zigbee</a> network and a <a href=https://www.z-wave.com/>Z-Wave</a> network so I could be pretty agnostic. There are mixed reviews about Thread/Matter and Home Assistant, so I will wait for more support before migrating. As it stands, I&rsquo;m really pleased with zigbee and zwave.</p><p>Kiro managed to make a lot of automations, with some back and forth for syntax. I gave Kiro access to all the entities and also let it come up with common, low hanging fruit to better my quality of life.</p><h3 id=some-core-entities-and-integrations>Some Core Entities and Integrations<a class=anchor href=#some-core-entities-and-integrations>#</a></h3><p>It&rsquo;s pretty innumerable, I think there&rsquo;s over 800 entities in my house. Which I guess is numerating it, but the acceleration that number grows feels unreachable.</p><h4 id=most-common>Most Common<a class=anchor href=#most-common>#</a></h4><h4 id=lighting>Lighting<a class=anchor href=#lighting>#</a></h4><p><a href="https://www.amazon.com/dp/B0FMGP1P6W?th=1">Philips Hue bulbs</a> for lights. I wanted to be anti-Philips but these expose a lot of entities which means more features. The ease of integration was simple, zigbee interviews.
I have 8 bulbs:
- 2 in the garage turn on for an hour when my garage contact sensor detects the door opens
- 2 nightstands in the primary
- 4 lamps around the house
I&rsquo;m big on small lights, not the big lights. So, naturally I can&rsquo;t say Philips without mentioning:</p><p><a href=https://github.com/basnijholt/adaptive-lighting>Adaptive Lighting</a> is absolutely necessary. Not because it needs it, but because I need it. It syncs with the sun.sun entity and uses some fancy parabolic timing sequence to calculate perfect light exposure for time of day. Throughout the day, the lights get colder or warmer depending on the time, with a lot of customizing presets if you like.</p><h4 id=security>Security<a class=anchor href=#security>#</a></h4><p>Ring Ecosystem&mldr; Love hate relationship. I live a life of contradictions, and I work at Amazon but don&rsquo;t want Ring. But my house came with it so I use it. The Ring integration is lacking because Ring relies on it&rsquo;s own proprietary platform- which don&rsquo;t get me wrong is actually really nice and adds a lot of features actively, but I want all my services on one dashboard.</p><p>I&rsquo;m very tired of being fragmented around services and apps and dashboards, I just want everything on my own service. Ring accomplishes that. The camera is it&rsquo;s own integration, with limited capabilities. I&rsquo;ve tried RSTP with a Ring MQTT, but the service really just doesn&rsquo;t stream data. I have a Ring Pro account complementary because of the home plan, but the service does not stream the feed. I&rsquo;ve had several minor successes, but it&rsquo;s too broken to work. It does take snapshots, and has a few exposed entities, just no live stream.</p><p>Ring alarm/hub, contact sensors, and keypad were found on the MQTT integration and are relatively fully featured. Can set modes, schedules, chirps, tones, etc. The contact sensors are pretty handy devices and I&rsquo;d recommend.</p><h4 id=companion-apps>Companion Apps<a class=anchor href=#companion-apps>#</a></h4><p>The companion apps allow for exposing phone entities and are assigned as the &ldquo;Person&rdquo;. Android and iPhone experiences vary. Android exposed about 200 entities, iPhone something like 20. Android, or at least my GrapheneOS, do not host geolocation and I had to get a separate app to serve geolocation data to the server. iPhone works natively. So, experiences varies to say the least.</p><p>But it allows for notifications to be pushed, on completion of an automation or when an entity changes. When the &ldquo;Person&rdquo; gets in a geofence, automations can start, pretty configurable especially with security, lighting, energy, etc.</p><h4 id=climate>Climate<a class=anchor href=#climate>#</a></h4><p>The ZWave Honeywell Home came with the house. It was finicky at first, but I think it&rsquo;s finally settled. It took some tinkering with wiring direct or battery powered, I think it likes battery powered if I remember, which doesn&rsquo;t let it be a repeater for the zwave network unfortunately.</p><h3 id=oddity-entities>Oddity Entities<a class=anchor href=#oddity-entities>#</a></h3><h4 id=torque-pro>Torque Pro<a class=anchor href=#torque-pro>#</a></h4><p>OBDII adapter and Torque Pro is a crazy combination for Home Assistant. This was all Kiro. The OBDII sensor data exposed over 200 entities, but they aren&rsquo;t displayed in the entities list because it&rsquo;s a custom code integration.</p><p>It shows everything from G-forces trip mileage to service information. It&rsquo;s a new-to-me integration and I have yet to digest the data, I just have a dashboard with a bunch of graphs that show different entities/sensors.</p><p>There&rsquo;s frustrations with the integration because the Torque phone app says the units are in miles but everything is still in kilometers. So, I&rsquo;m working through what the issue is, and if I can&rsquo;t find the issue I&rsquo;m going to build a helper that converts the data to miles.</p><p>But once I get it up and running, the plan is to build out service reminders because I just dismiss that notification in the vehicle. Outside of service reminders, there&rsquo;s diagnostic information in the app itself, but I&rsquo;d also like to have Home Assistant automatically make a maintenance log for my own records. Home Assistant will keep a record of the OBDII data points, which is nice because the OBDII adapter itself is just measuring live data. So the logs can live on Home Assistant, and with the service codes from the OBDII adapter, I can feed all that data to an LLM to help troubleshoot in the future. This will likely be a triage for vehicle problems before going to a mechanic.</p><h4 id=smarthub-energy>SmartHub Energy<a class=anchor href=#smarthub-energy>#</a></h4><p>My utility provider does not integrate with Home Assistant, but <a href=https://github.com/gagata/ha-smarthub-energy-sensor>SmartHub Energy</a> creatively gets around API usage and requires some browser console digging to get it up and working.</p><p>It only exposes usage rates, but integrates with the energy dashboard just fine and gives me insight into something I never look at because it&rsquo;s on a separate proprietary dashboard on another webpage that needs another login, about 5 steps too many for me to check frequently. This is just on my dashboard now.</p><h3 id=others>Others<a class=anchor href=#others>#</a></h3><p>I have a long list, but some other major integrations (native or through HACS):</p><ul><li>Android TV Remote</li><li>CalDAV</li><li>Ecowitt &lt;&ndash; Love, the company seems very Home Assistant friendly</li><li>ESPHome</li><li>Home Maintenance</li><li>Immich - would like to use immich facial recognition with cameras</li><li>Jellyfin - haven&rsquo;t really figured out much for this since I host jellyfin on another domain</li><li>Local Calendar</li><li>MQTT</li><li>OwnTracks - Android geolocation</li><li>Rain Bird - sprinklers</li><li>Tailscale
&mldr; and a lot of others.</li></ul><h2 id=what-i-learned>What I Learned<a class=anchor href=#what-i-learned>#</a></h2><p>Kiro did a lot of the heavy lifting, especially in the beginning. Part of that heavy lifting was just teaching me- not the platform itself, because that can all be done in the GUI, but with the config files and making it feel much more me. Custom dashboard creation got to be a breeze, just giving the entities I want, how I want it, and copying and pasting. Boom. Brand new dashboard.</p><p>I got decidedly involved in the house. I requested an electrical diagram and blueprint from the architect of the house, which was a hassle to get thanks to Lennar being the way they are. I got the diagram for something else a while back, but it got be thinking about electrical and smart devices. I learned a lot about retrofitting existing dumb devices, like normal light switches, with smart devices like shelly switches that live behind the switch, which I plan to get for the big lights.</p><p>I learned the most about networking technologies. MQTT, RSTP, WebRTC. Dockerized set up and containers speaking to containers. Getting ollama to talk was especially fun&mldr;</p><p>The Voice Assistant integration is still a work in progress, but it&rsquo;s forced me to learn about STT and TTS models and how they work.</p><h2 id=current-state>Current State<a class=anchor href=#current-state>#</a></h2><p>AI has been pretty hands-off since Home Assistant has become more established on the server. I have a cronjob that takes all the entities daily and adds it to my server documentation folder, and that folder is in my goose cli workspace so my AI always has latest entities.</p><p>I have dozens of automations routinely going. Lights turn on ambiently before my alarm goes off, turn off automatically when no one is home, turn back on when people are home, and turn off when it&rsquo;s bedtime. Security automations maintain alarm automatically so it arms away or home depending on a factor of environments.</p><p>Dashboards show a great view at a glance, I haven&rsquo;t touched my main dashboard in ages now. It has lights, alarm, and critical things at a glance in a wife approved interface.</p><p>The home really is set up more than I had anticipated, and I could leave it as is and be perfectly content. However, my nature prevents that. It will continue being an ongoing project.</p><h2 id=whats-next>What&rsquo;s Next<a class=anchor href=#whats-next>#</a></h2><p>Voice control needs hardware deploymentâ€”the software is ready but need more Atom Echos placed around the house. I want to expand to more motion detection. There&rsquo;s more recent technology with Wi-Fi detecting presence similar to mmWave technology.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/docs/projects/cyberdecktech/ class="flex align-center"><img src=/icons/backward.svg class=book-icon alt=Backward>
<span>CyberDeck Tech</span>
</a></span><span><a href=/docs/projects/immich/ class="flex align-center"><span>Immich</span>
<img src=/icons/forward.svg class=book-icon alt=Forward></a></span></div><div class=book-comments></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#how-we-built-it>How We Built It</a><ul><li><a href=#some-core-entities-and-integrations>Some Core Entities and Integrations</a></li><li><a href=#oddity-entities>Oddity Entities</a></li><li><a href=#others>Others</a></li></ul></li><li><a href=#what-i-learned>What I Learned</a></li><li><a href=#current-state>Current State</a></li><li><a href=#whats-next>What&rsquo;s Next</a></li></ul></nav></div></aside></main></body></html>